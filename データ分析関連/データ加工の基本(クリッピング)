クリッピング
データの中には、外れ値が存在する場合があります。外れ値とは、他のデータと比較して極端に大きい値や極端に小さい値のことです。
例えば、ある商品の平均購入数を調べたいときに、小学校向けに大きな発注があり極端に大きな数が売れてしまうと平均値が高くなってしまいます。
このような問題を防ぐために、外れ値の修正を行います。

外れ値の修正を特定のカラムに行う関数としてclip関数があります。

データフレーム[カラム名].clip(lower=引数, upper=引数)

外れ値は、他のデータと比較したときに値が極端に異なるため、統計処理の際に大きな問題を与えることがあります。そこで、あらかじめ上限と下限を決めておけば、外れ値の影響を受けずに統計処理を行うことができます。下限を決める際には引数lower、上限を決める際には引数upperを指定します。

lower：下限を決めることができる

upper：上限を決めることができる

import pandas as pd
df = pd.read_excel('会員別課金額.xlsx')

df["アイテムA課金額"] = df["アイテムA課金額"].clip(lower=0)

print(df["アイテムA課金額"].mean())
